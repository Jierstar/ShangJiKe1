# 基于Flask框架的web投票系统
## 后端：Python Flask
实现了用户注册、登录、密码修改、参与投票，创建投票、创建选项的功能。
对用户的权限进行了分级:
|权限等级|0|1|2|
|--|--|--|--|
|权限|基础用户，可以浏览投票，参与投票；无法发布投票|进阶用户，可浏览、参与、发布投票 |管理员，可浏览、参与、发布投票，并且可以修改用户数据、投票数据 |

##### 注册
用户提供id、用户名、密码，id不能与已有用户重复，密码需要两次输入确认，注册成功后跳转到登录页面。新用户权限等级默认为0，管理员可修改权限等级。
##### 登录
通过用户名和密码登录，登陆后可进行投票等操作
##### 修改密码
提供原密码，可修改新密码，新密码需要两次输入确认
##### 创建投票
1级权限以上用户可操作，创建投票主题
##### 创建选项
1级权限以上用户可操作，为指定的主题创建选项，创建后跳转到投票界面查看并投票
##### 查找投票
所有已登录用户可操作，输入投票主题id，查看相应投票
##### 投票
所有已登录用户可操作，进入投票后可为当前已有选项投票，投票后会创建投票记录，该用户在当前投票有记录则不可在此投票
##### 管理员
最高权限（2）可操作，可直接对数据库内容进行修改，如：修改投票内容，直接增加投票或选项，修改用户权限等
## 数据库：MySQL
#### 数据库设计
user表：用户类
| 字段 | 类型 |说明|
|--|--|--|
|id |int |用户id、主键|
|username|varchar|用户名
| password |varchar |密码
|authority|tinyint|权限等级

votetheme表：投票主题
| 字段 | 类型 |说明|
|--|--|--|
|id |int |主题id、主键|
|theme|varchar|主题内容

candidate表：投票选项
| 字段 | 类型 |说明|
|--|--|--|
|id |int |选项id、主键|
|name|varchar|选项名
|votes|int |得票
|intro|varchar|补充说明

votelog表：投票记录
*# votelog的id由参与投票者的id和投票主题id计算得出，可能出现碰撞，待优化*
| 字段 | 类型 |说明|
|--|--|--|
|id |int|记录id、主键|
|user_id |int|用户id、外键|
|theme_id |int |主题id、外键|

## 前端：HTML Bootstrap
使用了Flask-Bootstrap框架

在base.html中添加了显示flash内容层，使得其他页面代码更加简洁

*关于table.html： 编程中发现有些表单页面内容相似，只有表单不同，遂统一使用tabl.html*


